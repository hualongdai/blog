---
title: 遍历算法
date: 2018-01-27
categories:
- JS
tag: 
- JS
- 算法
---

### 用法背景，后端给了一个tree 结构，需要前端自己遍历出，指定节点到根节点的路径

### 第一种方案

```json
// mock 数据源

const demoData = 
{
	value: 1,
	children: [
	  {
	    value: 2,
	    children: [
	      {
	        value: 4,
	        children: [
	          {
	            value: 6,
	            children: [
	              {
	                value:  8
	              },
	              {
	                value:  9
	              }
	            ]
	          },
	          {
	            value: 7,
	            children: [
	              {
	                value:  10
	              }
	            ]
	          }
	        ]
	      },
	      {
	        value: 5
	      }
	    ]
	  },
	  {
	    value: 3
	  }
	]
};
```

```js
// 由于是示例，没有做健壮性的判断，仅做参考

const deepTraverse = (data, targetItem) => {
  const result = [];
  try {
    const loop = (item) => {
      result.push(item.value);
      if (item.value === targetItem.value) {
        throw ('找到了'); // 终止遍历
      }
      if (item.children) {
        for (let i = 0, len = item.children.length; i < len; i+= 1) {
          loop(item.children[i])
        }
        result.pop()
      } else {
        result.pop()
      }
    };
    loop(data);
  } catch (e) {
    return result;
  }
}

console.log(deepTraverse(demoData, { value: 10 })) // [1, 2, 4, 7, 10]
```

// 第二种方案 

1. 将数据源拍平，生成一个map
2. 遍历map得到一个目的路径数据

